#!/usr/bin/env ruby
require 'brains'

def usage
  abort 'usage: brains new|serve <brain>'
end

cmd, brain_dir = ARGV

case cmd
when 'new'
  usage unless brain_dir
  Brains.make(brain_dir)
when 'serve'
  Brains.serve!
when 'version'
  puts Brains.version
else
  usage
end
